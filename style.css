@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

/* Theme variables */
:root {
  /* Palette */
  --color-bg: #E9DFC9;        /* fundo claro */
  --color-primary: #C7A76C;   /* destaque */
  --color-text: #3E2A1F;      /* texto principal */

  /* Derived tokens */
  --color-text-muted: rgba(62, 42, 31, 0.70);
  --color-line: rgba(62, 42, 31, 0.25);
  --color-surface: #EFE6D2;   /* leve contraste para áreas elevadas */
  --color-surface-2: #E6D8B4; /* segunda camada/quente */
  --color-surface-3: #DCC694; /* terceira camada/mais intensa */
  --color-backdrop: rgba(62, 42, 31, 0.45);
}

/* Base */
body {
  font-family: 'Poppins', sans-serif;
  background-color: var(--color-bg);
  color: var(--color-text);
  display: flex;
  min-height: 100vh;
  flex-direction: column;
}

main { flex: 1 0 auto; }

/* Botões (tema escuro) */
.btn-primary {
  background-color: var(--color-primary);
  color: var(--color-text);
  border: 1px solid var(--color-primary);
  border-radius: 0.5rem;
  padding: 0.6rem 1rem;
  font-weight: 600;
}
.btn-primary:hover { filter: brightness(0.95); }
.btn-primary:focus { outline: 2px solid var(--color-text); outline-offset: 2px; }

.btn-secondary {
  background-color: transparent;
  color: var(--color-text);
  border: 1px solid var(--color-line);
  border-radius: 0.5rem;
  padding: 0.6rem 1rem;
  font-weight: 600;
}
.btn-secondary:hover { background-color: var(--color-surface); }
.btn-secondary:focus { outline: 2px solid var(--color-primary); outline-offset: 2px; }

.btn-danger {
  background-color: #ef4444; /* mantém semântico */
  color: #ffffff;
  border: 1px solid transparent;
  border-radius: 0.5rem;
  padding: 0.5rem 0.9rem;
  font-weight: 600;
}
.btn-danger:hover { background-color: #dc2626; }
.btn-danger:focus { outline: 2px solid #7f1d1d; outline-offset: 2px; }

.icon-btn {
  background: transparent;
  border: 1px solid var(--color-line);
  color: var(--color-text);
  border-radius: 0.375rem;
  padding: 0.25rem 0.5rem;
}
.icon-btn:hover { background-color: var(--color-surface); }

/* Estado selecionado para tamanhos (substitui bg-indigo-600/text-white) */
.icon-btn.bg-indigo-600 {
  background-color: var(--color-primary) !important;
  border-color: var(--color-primary) !important;
  color: var(--color-text) !important;
}

/* Inputs */
.input {
  display: block;
  border: 1px solid var(--color-line);
  background-color: #FBF6EA;
  color: var(--color-text);
  border-radius: 0.5rem;
  padding: 0.6rem 0.8rem;
}
.input::placeholder { color: var(--color-text-muted); }
.input:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 1px;
}
.label {
  display: block;
  font-size: 0.875rem;
  color: var(--color-text);
  margin-bottom: 0.25rem;
}

/* Modal */
.modal-backdrop {
  position: fixed;
  inset: 0;
  background: var(--color-backdrop);
  z-index: 40;
}
.modal {
  position: fixed;
  inset: 0;
  margin: auto;
  width: 100%;
  max-width: 1100px;
  height: fit-content;
  max-height: 90vh;
  overflow: auto;
  background: var(--color-surface);
  border-radius: 0.75rem;
  box-shadow: 0 10px 15px rgba(0,0,0,0.4), 0 4px 6px rgba(0,0,0,0.3);
  padding: 1rem;
  z-index: 50;
}

/* Cartões */
.card {
  background: var(--color-surface);
  border: 1px solid var(--color-line);
  border-radius: 0.75rem;
  overflow: hidden;
}
.card-body { padding: 0.75rem; }
.card-title { font-weight: 600; }
.card-price { color: var(--color-text); font-weight: 700; }
.card-desc { color: var(--color-text-muted); font-size: 0.95rem; }

/* Ações no card */
.card-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}
.heart-btn {
  border: 1px solid var(--color-line);
  background: transparent;
  border-radius: 9999px;
  height: 2rem;
  width: 2rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.heart-btn:hover { background: var(--color-surface); }
.heart-btn.liked { color: #ef4444; border-color: #7f1d1d; background: #F7EDE0; }

/* Animações */
@keyframes fadeIn {
  from { opacity: 0 }
  to { opacity: 1 }
}
@keyframes slideUp {
  from { opacity: 0; transform: translateY(16px) }
  to { opacity: 1; transform: translateY(0) }
}
@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.98) }
  to { opacity: 1; transform: scale(1) }
}
.anim-fade { animation: fadeIn 600ms ease-out both; }
.anim-up { animation: slideUp 700ms ease-out both; }
.anim-scale { animation: scaleIn 250ms ease-out both; }
.hover-lift { transition: transform 200ms ease, box-shadow 200ms ease; }
.hover-lift:hover { transform: translateY(-4px); box-shadow: 0 10px 20px rgba(0,0,0,0.25); }

/* Cart shake */
@keyframes cart-shake {
  0% { transform: translateX(0) }
  15% { transform: translateX(-2px) }
  30% { transform: translateX(2px) }
  45% { transform: translateX(-2px) }
  60% { transform: translateX(2px) }
  75% { transform: translateX(-1px) }
  100% { transform: translateX(0) }
}
.cart-shake { animation: cart-shake 360ms ease-in-out; display: inline-block; }

/* --- Tailwind color overrides (map para a paleta) --- */
/* Text */
.text-gray-100, .text-gray-200, .text-gray-300 { color: var(--color-text) !important; }
.text-gray-400, .text-gray-500, .text-gray-600 { color: var(--color-text-muted) !important; }

/* Backgrounds */
.bg-gray-900, .bg-gray-800 { background-color: var(--color-bg) !important; }
/* Class with slash needs escaping */
.bg-gray-900\/90 { background-color: rgba(233, 223, 201, 0.9) !important; }
.bg-gray-800 { background-color: var(--color-surface) !important; }

/* Borders and divides */
.border-gray-800, .border-gray-700 { border-color: var(--color-line) !important; }
.divide-gray-800 > :not([hidden]) ~ :not([hidden]) { border-color: var(--color-line) !important; }

/* Gradient helpers used no hero */
.from-gray-900 { --tw-gradient-from: var(--color-bg) !important; }
.to-gray-800 { --tw-gradient-to: var(--color-surface) !important; }

/* Indigo mapping to primary for selected states */
.bg-indigo-600 { background-color: var(--color-primary) !important; }
.outline-indigo-900 { outline-color: var(--color-primary) !important; }

/* --- Layer utilities for color composition --- */
.site-header {
  background: linear-gradient(
    to bottom,
    rgba(239, 230, 210, 0.92),
    rgba(239, 230, 210, 0.72)
  );
  backdrop-filter: saturate(130%) blur(6px);
  border-bottom: 1px solid var(--color-line);
}

.page-section {
  background: linear-gradient(180deg, var(--color-surface-2) 0%, var(--color-surface) 45%, var(--color-bg) 100%);
}

.section-contrast {
  background: linear-gradient(180deg, var(--color-surface-3) 0%, var(--color-surface-2) 100%);
}

.soft-gradient {
  position: relative;
  isolation: isolate;
}
.soft-gradient::before {
  content: '';
  position: absolute;
  inset: -10% -5% auto -5%;
  height: 60%;
  background: radial-gradient(1200px 400px at 30% 0%, rgba(199,167,108,0.25), transparent 60%),
              radial-gradient(900px 300px at 90% 10%, rgba(62,42,31,0.12), transparent 60%);
  z-index: -1;
}

.footer-band {
  background: linear-gradient(180deg, var(--color-surface) 0%, var(--color-surface-2) 100%);
  border-top: 1px solid var(--color-line);
}

.elevated {
  box-shadow: 0 10px 20px rgba(62,42,31,0.10), 0 2px 6px rgba(62,42,31,0.08);
}

/* Icon helpers */
.cart-ico {
  width: 1rem;
  height: 1rem;
  display: inline-block;
  margin-right: 0.5rem;
  vertical-align: -0.125rem;
  color: currentColor;
}

/* --- Dark Mode Overrides (keep site dark with your palette) --- */
:root {
  --color-bg: #3E2A1F;        /* base escura */
  --color-primary: #C7A76C;   /* destaque dourado */
  --color-text: #E9DFC9;      /* texto claro */
  --color-text-muted: rgba(233, 223, 201, 0.72);
  --color-line: rgba(233, 223, 201, 0.18);
  --color-surface: #4A3628;   /* superfície escura */
  --color-surface-2: #3A2A21; /* camada escura 2 */
  --color-surface-3: #2F221B; /* camada escura 3 */
  --color-backdrop: rgba(0, 0, 0, 0.55);
}

.btn-primary { color: var(--color-bg); }
.input { background-color: var(--color-surface); }
.bg-gray-900\/90 { background-color: rgba(62, 42, 31, 0.9) !important; }
.site-header {
  background: linear-gradient(to bottom, rgba(62,42,31,0.92), rgba(62,42,31,0.72));
}
.page-section {
  background: linear-gradient(180deg, var(--color-surface-3) 0%, var(--color-surface-2) 50%, var(--color-bg) 100%);
}
.section-contrast {
  background: linear-gradient(180deg, var(--color-surface-2) 0%, var(--color-surface) 100%);
}
.soft-gradient::before {
  background: radial-gradient(1200px 400px at 30% 0%, rgba(199,167,108,0.18), transparent 60%),
              radial-gradient(900px 300px at 90% 10%, rgba(233,223,201,0.08), transparent 60%);
}
.icon-btn.bg-indigo-600 { color: var(--color-bg) !important; }

/* --- Mobile adjustments --- */
@media (max-width: 640px) {
  .card-body { padding: 0.75rem; }
  .card-title, .card-price { font-size: 1.125rem; }
  .gender-toggle { display: flex; gap: 0.5rem; }
  .gender-toggle .icon-btn { flex: 1 1 48%; text-align: center; }
  #productGrid { gap: 1.25rem !important; }
  .modal { width: calc(100% - 1rem); margin: 0.5rem auto; padding: 0.75rem; }
}

/* --- Page specific adjustments --- */
/* Lock scroll only on index */
body.page-index { overflow: hidden; }

/* Index: smaller hero/header buttons on mobile */
@media (max-width: 640px) {
  .page-index .btn-primary,
  .page-index .btn-secondary,
  .page-index #btnCart,
  .page-index #btnCartHero {
    padding: 0.45rem 0.7rem !important;
    font-size: 0.875rem !important;
  }
}

/* Produtos page: compact top bar and buttons on mobile */
@media (max-width: 640px) {
  .page-products .site-header .max-w-7xl { padding-top: 0.4rem !important; padding-bottom: 0.4rem !important; }
  .page-products .site-header h1 { font-size: 0.95rem !important; }
  .page-products .site-header img { height: 1.5rem !important; width: 1.5rem !important; }
  .page-products .site-header .btn-secondary,
  .page-products .site-header .btn-primary {
    padding: 0.35rem 0.6rem !important;
    font-size: 0.8rem !important;
  }
}
